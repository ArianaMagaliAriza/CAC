PB EQU 31H
CB EQU 33H
EOI EQU 20H
IMR EQU 21H
INT0 EQU 24H

ORG 40
IDF10 DW PRENDE

ORG 3000H
PRENDE:PUSH AX
      MOV AL,0
      OUT CB,AL
      CMP DL,0
      JNZ APAGA
      MOV DL,1
      JMP FIN
APAGA:MOV AL,0
      OUT PB,AL
      MOV DL,0
FIN:  MOV AL, 20H
      OUT EOI,AL
      POP AX
      IRET
      
ORG 2000H
CLI
MOV AL,11111110B
OUT IMR,AL
MOV AL,10
OUT INT0,AL
MOV DL,0
STI
LAZO:JMP LAZO
HLT
END